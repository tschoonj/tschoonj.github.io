
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Code Dungeon</title>
  <meta name="author" content="Tom Schoonjans">

  
  <meta name="description" content="The Code Dungeon. Revelations and frustrations of a coder. Feb 8th, 2014 Gtk2 MinGW-w64 Windows 64-bit runtime installer Gtk2 64-bit Windows Runtime &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tschoonj.github.io">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The Code Dungeon" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42595764-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li class="active"><a href="/index.html">Blog</a></li>
    
        <li ><a href="/blog/archives/index.html">Archives</a></li>
    
        <li ><a href="/about/index.html">About</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/tschoonj" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://linkedin.com/in/tomschoonjans" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    
    
    <li><a href="http://facebook.com/tom.schoonjans" title="Facebook Profile"><i class="icon-facebook-sign social-navbar"></i></a></li>
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
    <div class="span12">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    The Code Dungeon.
    <h3 class="tagline">Revelations and frustrations of a coder.</h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-02-08T12:47:00+01:00" pubdate data-updated="true">Feb 8<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/Gtk2/"><span class="badge">Gtk2</span></a>
          
          <a href="/blog/categories/MinGW-w64/"><span class="badge">MinGW-w64</span></a>
          
          <a href="/blog/categories/Windows 64-bit/"><span class="badge">Windows 64-bit</span></a>
          
          <a href="/blog/categories/runtime installer/"><span class="badge">runtime installer</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2014/02/08/gtk2-64-bit-windows-runtime-environment-installer/">Gtk2 64-bit Windows Runtime Environment Installer</a></h1>
      <p>As I already mentioned in my <a href="http://tschoonj.github.io/blog/2014/01/29/building-a-64-bit-version-of-hdf5-with-mingw-w64/">last post</a>, I have been busy compiling software with MinGW-w64 for the Windows 64-bit platform.f. One of the packages I rely on is <a href="http://www.gtk.org">Gtk+</a> (version 2 for now), and its many dependencies. Fortunately however, the <a href="http://www.gtk.org/download/win64.php">Gtk+ website</a> offers binaries for this architecture, so I didn&rsquo;t have to bother compiling them myself.</p>

<p>In the end I also managed to build all the other dependencies I needed for <a href="http://github.com/tschoonj/xmimsim">XMI-MSIM</a>, so the last step for me was to update my <a href="http://nsis.sourceforge.net/Main_Page">NSIS</a> installer for Windows 64-bit machines. It didn&rsquo;t take long for me to realize that one of the crucial components I install is the <a href="http://gtk-win.sourceforge.net/home/">Gtk Windows Runtime Environment Installer</a>, which really facilitates installing Gtk+ based applications. Unfortunately, Alexander Shaduri, the developer only distributes a 32-bit version of this package, and he has assured me through some emailing that he had no plans to write a 64-bit version due to <a href="http://www.gtk.org/download/win64.php">the experimental nature</a> of the packages that are produced by the Gtk+ people.</p>

<p>This being said, I still needed such an installer so I wrote one based on his NSIS script, using the official 64-bit Gtk+ packages for Windows 64-bit. The only major change I introduced was dropping support for the compatibility DLLs, which were redundant anyway. I am sharing the modified NSIS script as Github Gist so start hacking away at it. This script has some dependencies, apart from the DLLs, which are necessary to build the installer. Since I didn&rsquo;t change them at all, use the files that the original developer is sharing on <a href="http://sourceforge.net/p/gtk-win/code/HEAD/tree/">sourceforge</a>.</p>

<p>The installer itself can be obtained at <a href="http://lvserver.ugent.be/gtk-win64/gtk2-runtime-2.22.1-2014-02-01-ts-win64.exe.">http://lvserver.ugent.be/gtk-win64/gtk2-runtime-2.22.1-2014-02-01-ts-win64.exe.</a> If you would like to see an example on how to use this installer from within your own NSIS script, have a look at e.g. <a href="https://github.com/tschoonj/xmimsim/blob/master/nsis/xmimsim-win64.nsi.in">my XMI-MSIM Windows 64-bit installer</a>.</p>


      
       <a href="/blog/2014/02/08/gtk2-64-bit-windows-runtime-environment-installer/">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-01-29T16:35:00+01:00" pubdate data-updated="true">Jan 29<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/HDF5/"><span class="badge">HDF5</span></a>
          
          <a href="/blog/categories/MSYS/"><span class="badge">MSYS</span></a>
          
          <a href="/blog/categories/MinGW-w64/"><span class="badge">MinGW-w64</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2014/01/29/building-a-64-bit-version-of-hdf5-with-mingw-w64/">Building a 64-bit version of HDF5 with MinGW-w64</a></h1>
      <p>I have finally decided to try building a 64-bit version of the Windows package of <a href="http://github.com/tschoonj/xmimsim">XMI-MSIM</a>.
As is the case for my 32-bit builds, I am using the MinGW compiler as provided by <a href="http://tdm-gcc.tdragon.net">TDM-GCC</a>, although obviously this time I opted for the 64-bit variant.
Now XMI-MSIM has a considerable amount of dependencies (GTK+, GSL, HDF5, libxml2, libxslt, curl, json-glib and others), I am again forced to compile these all again from source before I can even think of compiling my actualy software. One exception here is GTK+ and its dependencies since the good people from the GTK project are offering 64-bit builds (compiled with MinGW-w64) on their <a href="http://www.gtk.org/download/win64.php">website</a>.</p>

<p>In the past, the HDF5 build has always cost me most of my time, compared to the other packages, to get it compiled on MSYS, especially the Fortran bindings part. Now since I have dropped the dependency for these Fortran bindings in my latest version, because of my past experiences, I hoped that compiling them with MinGW-w64 might somehow have become easier.</p>

<p>Alas&hellip;</p>


      
       <a href="/blog/2014/01/29/building-a-64-bit-version-of-hdf5-with-mingw-w64/">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-09-04T10:47:00+02:00" pubdate data-updated="true">Sep 4<span>th</span>, 2013</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/automake/"><span class="badge">automake</span></a>
          
          <a href="/blog/categories/autotools/"><span class="badge">autotools</span></a>
          
          <a href="/blog/categories/libtool/"><span class="badge">libtool</span></a>
          
          <a href="/blog/categories/python-bindings/"><span class="badge">python-bindings</span></a>
          
          <a href="/blog/categories/swig/"><span class="badge">swig</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2013/09/04/building-libtool-modules-python-bindings/">Building libtool modules: Python bindings</a></h1>
      <p>One of the software packages (<a href="http://github.com/tschoonj/xraylib">xraylib</a>) I am working on, consists of a C-library with bindings to a number of other languages such as Python, Fortran 2003, IDL, Java, Ruby, Lua and Perl. Apart from IDL and Fortran 2003, the source code for these bindings is generated automatically using <a href="http://www.swig.org">swig</a>, although with considerable language-specific modifications to the swig interface file.</p>

<p>The bindings source code afterwards needs to be compiled into a dynamically loadable library, which will then be loaded at runtime by the program whenever the user needs to use a function or variable from the bindings (actually from the underlying C-library, but exposed through the swig generated bindings).
As a rule, each programming language that supports such dynamically loadable libraries comes with specific instructions on how to generate the libraries from the bindings source code, often using platform independent tools.</p>

<p>However, these tools never seem to integrate well with autoconf and automake and lead to quite complicated Makefile.am files. A considerable more easy approach would consist of relying on libtool&rsquo;s functionality of generating these dynamically loadable libraries (called modules in the libtool documentation).
In this series of posts I will share my experiences on generating bindings to the aforementioned languages using libtool in a relatively clear and easy way. All the code has been tested on Linux and Mac OS X. It may also work on Windows though, provided you install a bash shell with the required tools.</p>

<p>In this first post I will discuss Python extension modules.</p>


      
       <a href="/blog/2013/09/04/building-libtool-modules-python-bindings/">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-07-22T10:24:00+02:00" pubdate data-updated="true">Jul 22<span>nd</span>, 2013</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/gtkextra/"><span class="badge">gtkextra</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2013/07/22/exporting-and-printing-a-gtkextra-plot-canvas/">Exporting and printing a GtkExtra plot canvas</a></h1>
      <p>My software package <a href="http://github.com/tschoonj/xmimsim">XMI-MSIM</a> relies on <a href="http://gtkextra.sourceforge.net/cms/">GtkExtra</a> for the visualization of the simulated X-ray fluorescence spectra.
This library contains a number of useful widgets, such as a spreadsheet widget and a number of plotting tools, for your Gtk2 based GUI&rsquo;s.
Recently, I have become a minor contributor of this project, and I have been particularly active in improving the buildsystem and also generating RPM files for a number of Fedora/RHEL based distros, and DEB files for several recent releases of Ubuntu and Debian. Full instructions on how to obtain access to these packages, which are hosted by <a href="http://www.xmi.ugent.be">my old research group</a>, can be found <a href="http://gtkextra.sourceforge.net/cms/index.php?option=com_content&amp;view=article&amp;id=40&amp;Itemid=21">here</a>.</p>

<p>In todays blog post I am presenting an example of how one can relatively easily add printing and exporting capabilities to GtkExtra&rsquo;s <code>GtkPlotCanvas</code> widget. I will demonstrate this with a short program that I have written that contains a plot of a sine function, and two buttons that allow the user to invoke the dialog windows that will set up the exporting and the printing of the canvas, respectively.</p>


      
       <a href="/blog/2013/07/22/exporting-and-printing-a-gtkextra-plot-canvas/">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-07-08T19:39:00+02:00" pubdate data-updated="true">Jul 8<span>th</span>, 2013</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/automatic-updates/"><span class="badge">automatic-updates</span></a>
          
          <a href="/blog/categories/curl/"><span class="badge">curl</span></a>
          
          <a href="/blog/categories/git-tag/"><span class="badge">git-tag</span></a>
          
          <a href="/blog/categories/github/"><span class="badge">github</span></a>
          
          <a href="/blog/categories/json-glib/"><span class="badge">json-glib</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2013/07/08/checking-for-updates-using-git-tags/">Checking for updates using git tags</a></h1>
      <p>At some point during the development of version 2.0 of my software package <a href="http://github.com/tschoonj/xmimsim">XMI-MSIM</a>, I decided to implement a routine that would allow for the program to check if newer versions (updates) were available. This would be extremely useful for the users of the Windows and Mac OS X builds of my package, since these operating systems do not come with package-management tools as most Linux distributions do (I am staying far away from Mac App Store and Windows store as I am not willing to pay their developer fees).</p>

<p>Initially I was looking at <a href="http://sparkle.andymatuschak.org">Sparkle</a>, a fantastic tool for OS X apps.
However, this would mean a different solution for my Windows build&hellip;</p>

<p>Since my goal is to keep the platform specific code as low as possible (#ifdef&rsquo;s really are quite ugly things), obviously I had to come up with a different solution.</p>


      
       <a href="/blog/2013/07/08/checking-for-updates-using-git-tags/">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    

    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2014 - Tom Schoonjans -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
    </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'thecodedungeon';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
